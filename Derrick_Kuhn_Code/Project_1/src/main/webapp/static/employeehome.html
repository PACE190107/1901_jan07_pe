<!DOCTYPE html>
<html>
<head>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

</head>
<body>

<div class="container-fluid">
    <div class="row justify-content-md-center">
        <div class="col-lg">
            <ul class="nav nav-fill">
                <li class="nav-item">
                    <a class="nav-link active" href=# id="request">Requests</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href=# id="profile">Profile</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href=# id="logout">Logout</a>
                </li>
            </ul>
        </div>
    </div>

    <!--WELCOME AREA-->

    <div class="row" id="welcome">
        <div class="justify-content-md-center">
            <div class="col-lg">
                <h3>Employee login, successful!</h3>
            </div>
        </div>
    </div>


    <!--REQUESTS AREA-->

    <div class="row" id="requests" style="display:block">
        <div class="row">
            <div class="justify-content-md-center">
                <div class="col-lg">
                    <button type="button" id="newRequestBtn" class="btn btn-success">Create new Request</button>
                    <button type="button" id="pendingRequestBtn" class="btn btn-primary">View Pending Requests</button>
                    <button type="button" id="resolvedRequestBtn" class="btn btn-warning">View Resolved Requests</button>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="justify-content-md-center">
                <div class="col-lg">
                    <table class="table table-bordered">
                        <thead>
                        <tr>
                            <th>Subject</th>
                            <th>Description</th>
                            <th>Amount</th>
                        </tr>
                        </thead>
                        <tbody id="requestTableBody">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>


    <!--CREATE REQUEST AREA-->

    <div class="row" id="createRequest" style="display:block">
        <div class="row">
            <div class="col-md-4 offset-md-4">
                <div class="input-group input-group-lg">
                    <h5>Create Request</h5>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4 offset-md-4">
                <div class="input-group input-group-lg">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Subject</span>
                    </div>
                    <input type="text" class="form-control" id="subject" placeholder="Enter subject...">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4 offset-md-4">
                <div class="input-group input-group-lg">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Description</span>
                    </div>
                    <textarea class="form-control" rows="5" id="description" placeholder="Enter description for request..."></textarea>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4 offset-md-4">
                <div class="input-group input-group-lg">
                    <div class="input-group-prepend">
                        <span class="input-group-text" id="username-label">Subject</span>
                    </div>
                    <input type="number" class="form-control" id="amount" placeholder="Enter subject...">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4 offset-md-4">
                <div class="text-center">
                    <button type="button" id="submitNewRequest" class="btn btn-dark btn-lg">Submit Request</button>
                </div>
            </div>
        </div>
    </div>

    <!--Profile Information Section-->

    <div class="row" id="profileInfo" style="display: block">
        <div class="row">
            <div class="justify-content-md-center">
                <div class="col-lg">
                    <table class="table table-bordered">
                        <thead>
                        <tr>
                            <th>Property</th>
                            <th>Current Values</th>
                            <th>Update Values</th>
                        </tr>
                        </thead>
                        <tbody id="profileTable">
                        <tr>
                            <td>Username</td>
                            <td id="currentUsername"></td>
                            <td><input type="text" class="form-control" id="newUsername"></td>
                        </tr>
                        <tr>
                            <td>First Name</td>
                            <td id="currentFname"></td>
                            <td><input type="text" class="form-control" id="newFname"></td>
                        </tr>
                        <tr>
                            <td>Last Name</td>
                            <td id="currentLname"></td>
                            <td><input type="text" class="form-control" id="newLname"></td>
                        </tr>
                        <tr>
                            <td>Email</td>
                            <td id="currentEmail"></td>
                            <td><input type="text" class="form-control" id="newEmail"></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="justify-content-md-center">
                <div class="col-lg">
                    <button type="button" id="updateProfile" class="btn btn-success">Update Profile</button>
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    window.onload = () => {
        document.getElementById("logout").addEventListener("click", () => {
            let logoutReq = new XMLHttpRequest();
            logoutReq.onreadystatechange = () => {
                if((logoutReq.readyState == 4) && (logoutReq.status == 200)){
                    if(logoutReq.responseText == 'true'){
                        window.location.href="http://localhost:8080/Project_1_war/static/login.html";
                    }
                }
            };
            logoutReq.open("get", "http://localhost:8080/Project_1_war/login");
            logoutReq.send();
        });
    }
</script>
</body>
</html>